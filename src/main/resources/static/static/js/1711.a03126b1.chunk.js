"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1711],{1711:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(4165),a=r(5861),s=r(9439),c=r(2791),o=r(1087),i=r(7689),u=r(9434),l=r(7022),p=r(9743),d=r(2677),f=r(2592),h=r(9795),x=r(3360),m=r(6745),k=r(1441),Z=(r(9982),r(592)),g=r(7165),j=(0,g.oM)({name:"authToken",initialState:{authenticated:!1,accessToken:null,expireTime:null},reducers:{SET_TOKEN:function(e,n){e.authenticated=!0,e.accessToken=n.payload,e.expireTime=(new Date).getTime()+6e5},DELETE_TOKEN:function(e){e.authenticated=!1,e.accessToken=null,e.expireTime=null}}}),v=j.actions,b=(v.SET_TOKEN,v.DELETE_TOKEN,j.reducer,r(5294)),T=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==r){e.next=3;break}return alert("\uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc791\uc131\ud574\uc8fc\uc138\uc694."),e.abrupt("return",!1);case 3:return a={email:n,password:r},e.next=6,b.Z.post("/api/local/signin",a);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),w=(r(8382),r(8154)),E=r(184);var N=function(){var e=(0,c.useState)(""),n=(0,s.Z)(e,2),r=n[0],g=n[1],j=(0,c.useState)(""),v=(0,s.Z)(j,2),b=v[0],N=v[1],y=((0,u.I0)(),(0,u.v9)((function(e){return e})),(0,i.s0)()),I=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("kakao_token",n.response.access_token),n.response.access_token,r=n.profile.kakao_account.email,e.next=5,S(r);case 5:e.sent&&C(r),L(r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.Z.get("/api/social/check/KAKAO?email="+n).then((function(e){return e.data})).catch((function(e){throw console.error("Error during check:",e),e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.post("/api/social/signup",{email:n});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error during sign-up:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.post("/api/social/signin",{email:n});case 3:r=e.sent,localStorage.setItem("email",n),localStorage.setItem("token",r.data.accessToken),(0,Z.zI)(r.data.refreshToken),console.log("accessToken: "+r.data.accessToken),y("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error during sign-in:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(r,b);case 2:if(""!==(n=e.sent)){e.next=6;break}return alert("\uc774\uba54\uc77c \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub9bd\ub2c8\ub2e4."),e.abrupt("return",!1);case 6:localStorage.setItem("email",r),localStorage.setItem("token",n.accessToken),(0,Z.zI)(n.refreshToken),y("/");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,E.jsx)(l.Z,{className:"mt-4",children:(0,E.jsxs)(p.Z,{children:[(0,E.jsxs)(d.Z,{md:{span:5,offset:3},id:"loginCol",children:[(0,E.jsx)("div",{className:"d-flex justify-content-center",children:(0,E.jsx)(f.Z,{src:w,alt:"\ub85c\uace0",className:"logo"})}),(0,E.jsx)("h2",{class:"title",children:"\ub85c\uadf8\uc778"}),(0,E.jsxs)("div",{children:[(0,E.jsx)("li",{id:"kkLoginBtn",children:(0,E.jsx)(m.Z,{token:"9169f348c8c5bb0b3fc8f2e08db92d78",onSuccess:I,onFail:function(e){console.log(e),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},className:"w100p kkLogin"})}),(0,E.jsx)("li",{id:"nvLoginBtn",children:(0,E.jsx)("a",{href:"#",children:"\ub124\uc774\ubc84 \ub85c\uadf8\uc778"})}),(0,E.jsx)("li",{id:"ggLoginBtn",children:(0,E.jsx)("a",{href:"#",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})}),(0,E.jsx)("strong",{children:"\ub610\ub294"})]}),(0,E.jsxs)(h.Z,{children:[(0,E.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicEmail",onChange:function(e){return g(e.target.value)},children:[(0,E.jsx)(h.Z.Label,{children:"\uc544\uc774\ub514"}),(0,E.jsx)(h.Z.Control,{type:"email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c \uc785\ub825"}),(0,E.jsx)(h.Z.Text,{className:"text-muted"})]}),(0,E.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicPassword",onChange:function(e){return N(e.target.value)},children:[(0,E.jsx)(h.Z.Label,{children:"\ube44\ubc00\ubc88\ud638"}),(0,E.jsx)(h.Z.Control,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825"})]}),(0,E.jsx)(h.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,E.jsx)(h.Z.Check,{type:"checkbox",label:"\uc790\ub3d9\ub85c\uadf8\uc778"})}),(0,E.jsx)("div",{className:"d-grid gap-2",children:(0,E.jsx)(x.Z,{variant:"danger",type:"button",onClick:function(){_()},children:"\ub85c\uadf8\uc778"})}),(0,E.jsxs)("span",{children:[(0,E.jsx)(o.rU,{to:"/user/confirmEmail",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,E.jsx)(o.rU,{to:"/user/signup",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]}),(0,E.jsx)(d.Z,{})]})})}},8382:function(){}}]);
//# sourceMappingURL=1711.a03126b1.chunk.js.map