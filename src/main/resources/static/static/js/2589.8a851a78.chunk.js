"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2589],{2589:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(4165),c=r(5861),s=(r(2791),r(1087)),a=r(7689),i=r(9434),o=r(7022),l=r(9743),u=r(2677),d=r(2592),p=r(9795),h=r(3360),f=r(6745),x=r(1441),m=r(592),Z=r(7165),k=(0,Z.oM)({name:"authToken",initialState:{authenticated:!1,accessToken:null,expireTime:null},reducers:{SET_TOKEN:function(e,n){e.authenticated=!0,e.accessToken=n.payload,e.expireTime=(new Date).getTime()+6e5},DELETE_TOKEN:function(e){e.authenticated=!1,e.accessToken=null,e.expireTime=null}}}),j=k.actions,g=(j.SET_TOKEN,j.DELETE_TOKEN,k.reducer,r(8382),r(8154)),v=r(184);var T=function(){(0,i.I0)();var e=(0,i.v9)((function(e){return e})),n=(0,a.s0)(),r=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.response.access_token,r=n.profile.kakao_account.email,e.next=5,Z(r);case 5:e.sent&&k(r),j(r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.Z.get("/api/social/check/KAKAO?email="+n).then((function(e){return e.data})).catch((function(e){throw console.error("Error during check:",e),e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.post("/api/social/signup",{email:n});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error during sign-up:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(r){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.post("/api/social/signin",{email:r});case 3:return c=e.sent,localStorage.setItem("token",c.data.accessToken),(0,m.zI)(c.data.refreshToken),console.log("accessToken: "+c.data.accessToken),e.abrupt("return",n("/"));case 10:e.prev=10,e.t0=e.catch(0),console.error("Error during sign-in:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,x.Z.get("/api/info");case 4:n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("Error during sign-in:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}();return(0,v.jsx)(o.Z,{className:"mt-4",children:(0,v.jsxs)(l.Z,{children:[(0,v.jsxs)(u.Z,{md:{span:5,offset:3},id:"loginCol",children:[(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsx)(d.Z,{src:g,alt:"\ub85c\uace0",className:"logo"})}),(0,v.jsx)("h2",{class:"title",children:"\ub85c\uadf8\uc778"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("li",{id:"kkLoginBtn",children:(0,v.jsx)(f.Z,{token:"9169f348c8c5bb0b3fc8f2e08db92d78",onSuccess:r,onFail:function(e){console.log(e),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},className:"w100p kkLogin"})}),(0,v.jsx)("li",{id:"nvLoginBtn",children:(0,v.jsx)("a",{href:"#",children:"\ub124\uc774\ubc84 \ub85c\uadf8\uc778"})}),(0,v.jsx)("li",{id:"ggLoginBtn",children:(0,v.jsx)("a",{href:"#",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})}),(0,v.jsx)("strong",{children:"\ub610\ub294"}),(0,v.jsx)("button",{onClick:function(){return T()},children:"test"})]}),(0,v.jsxs)(p.Z,{children:[(0,v.jsxs)(p.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,v.jsx)(p.Z.Label,{children:"\uc544\uc774\ub514"}),(0,v.jsx)(p.Z.Control,{type:"email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c \uc785\ub825"}),(0,v.jsx)(p.Z.Text,{className:"text-muted"})]}),(0,v.jsxs)(p.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,v.jsx)(p.Z.Label,{children:"\ube44\ubc00\ubc88\ud638"}),(0,v.jsx)(p.Z.Control,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825"})]}),(0,v.jsx)(p.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,v.jsx)(p.Z.Check,{type:"checkbox",label:"\uc790\ub3d9\ub85c\uadf8\uc778"})}),(0,v.jsx)("div",{className:"d-grid gap-2",children:(0,v.jsx)(h.Z,{variant:"danger",type:"submit",children:"\ub85c\uadf8\uc778"})}),(0,v.jsxs)("span",{children:[(0,v.jsx)(s.rU,{to:"/user/confirmEmail",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,v.jsx)(s.rU,{to:"/user/signup",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]}),(0,v.jsx)(u.Z,{})]})})}},8382:function(){}}]);
//# sourceMappingURL=2589.8a851a78.chunk.js.map