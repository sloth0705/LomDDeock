"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2169],{2169:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t=r(4165),s=r(5861),c=r(1087),a=r(7022),o=r(9743),i=r(2677),l=r(2592),u=r(9795),d=r(3360),h=r(5294),p=r(7689),f=r(9434),x=(r(8382),r(8154)),m=(r(2791),r(6745)),Z=new(r(4263).Z),j=function(e){var n=new Date,r=n.setDate(n.getDate()+7);return Z.set("refresh_token",e,{sameSite:"strict",path:"/",expires:new Date(r)})},k=r(5962),g=r(184);var v=function(){var e=(0,f.v9)((function(e){return e.authToken.accessToken})),n=(0,p.s0)(),r=(0,f.I0)(),Z=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),n.response.access_token,r=n.profile.kakao_account.email,e.next=5,v(r);case 5:e.sent&&b(r),w(r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.Z.get("http://localhost:8080/login/social/check/KAKAO?email=".concat(n)).then((function(e){return e.data})).catch((function(e){throw console.error("Error during check:",e),e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.post("/api/social/signup",{email:n});case 3:return r=e.sent,e.abrupt("return",r.data.accessToken);case 9:e.prev=9,e.t0=e.catch(0),console.error("Error during sign-up:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(s){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.post("/api/social/signin",{email:s});case 3:return c=e.sent,localStorage.setItem("token",c.data.accessToken),j(c.data.refreshToken),r((0,k.L4)(c.data.accessToken)),e.abrupt("return",n("/"));case 12:e.prev=12,e.t0=e.catch(0),console.error("Error during sign-in:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(a.Z,{className:"mt-4",children:(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(i.Z,{md:{span:5,offset:3},id:"loginCol",children:[(0,g.jsx)("div",{className:"d-flex justify-content-center",children:(0,g.jsx)(l.Z,{src:x,alt:"\ub85c\uace0",className:"logo"})}),(0,g.jsx)("h2",{class:"title",children:"\ub85c\uadf8\uc778"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("li",{id:"kkLoginBtn",children:(0,g.jsx)(m.Z,{token:"9169f348c8c5bb0b3fc8f2e08db92d78",onSuccess:Z,onFail:function(e){console.log(e),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},className:"w100p kkLogin"})}),(0,g.jsx)("li",{id:"nvLoginBtn",children:(0,g.jsx)("a",{href:"#",children:"\ub124\uc774\ubc84 \ub85c\uadf8\uc778"})}),(0,g.jsx)("li",{id:"ggLoginBtn",children:(0,g.jsx)("a",{href:"#",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})}),(0,g.jsx)("button",{onClick:function(){return console.log("AccessToken:",e)},children:"asdf"}),(0,g.jsx)("strong",{children:"\ub610\ub294"})]}),(0,g.jsxs)(u.Z,{children:[(0,g.jsxs)(u.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,g.jsx)(u.Z.Label,{children:"\uc544\uc774\ub514"}),(0,g.jsx)(u.Z.Control,{type:"email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c \uc785\ub825"}),(0,g.jsx)(u.Z.Text,{className:"text-muted"})]}),(0,g.jsxs)(u.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,g.jsx)(u.Z.Label,{children:"\ube44\ubc00\ubc88\ud638"}),(0,g.jsx)(u.Z.Control,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825"})]}),(0,g.jsx)(u.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,g.jsx)(u.Z.Check,{type:"checkbox",label:"\uc790\ub3d9\ub85c\uadf8\uc778"})}),(0,g.jsx)("div",{className:"d-grid gap-2",children:(0,g.jsx)(d.Z,{variant:"danger",type:"submit",children:"\ub85c\uadf8\uc778"})}),(0,g.jsxs)("span",{children:[(0,g.jsx)(c.rU,{to:"/user/confirmEmail",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,g.jsx)(c.rU,{to:"/user/signup",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]}),(0,g.jsx)(i.Z,{})]})})}},8382:function(){}}]);
//# sourceMappingURL=2169.b877c9ac.chunk.js.map