"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4046],{4046:function(n,e,r){r.r(e),r.d(e,{default:function(){return y}});var t=r(4165),o=r(5861),i=r(1087),s=r(7022),c=r(9743),a=r(2677),u=r(2592),l=r(9795),d=r(3360),p=r(5294);p.Z.interceptors.request.use((function(n){var e=localStorage.getItem("token");return e&&"undefined"!=e&&(n.headers.Authorization=e),n}),(function(n){return Promise.reject(n)}));var f=p.Z,h=r(7689),v=(r(8382),r(8154)),g=r(2791),x=function(n,e){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r])},x(n,e)};var m={display:"inline-block",padding:"0px",width:"222px",height:"49px",lineHeight:"49px",color:"rgb(60, 30, 30)",backgroundColor:"rgb(255, 235, 0)",border:"1px solid transparent",borderRadius:"3px",fontSize:"16px",textAlign:"center"},k=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={isLoggedIn:!1},e.onButtonClick=function(){var n,r=e.props,t=r.throughTalk,o=void 0===t||t,i=r.persistAccessToken,s=void 0===i||i,c=r.needProfile,a=void 0===c||c,u=r.useLoginForm,l=void 0!==u&&u,d=r.onSuccess,p=r.onFail,f=l?"loginForm":"login";(null===(n=window.Kakao)||void 0===n?void 0:n.Auth)[f]({throughTalk:o,persistAccessToken:s,success:function(n){var r;e.setState({isLoggedIn:!0}),a?null===(r=window.Kakao)||void 0===r||r.API.request({url:"/v2/user/me",success:function(e){d({response:n,profile:e})},fail:p}):d({response:n})},fail:p})},e.onLogout=function(){var n;null===(n=window.Kakao)||void 0===n||n.Auth.logout((function(){var n,r,t;null===(r=(n=e.props).onLogout)||void 0===r||r.call(n,null===(t=window.Kakao)||void 0===t?void 0:t.Auth.getAccessToken()),e.setState({isLoggedIn:!1})}))},e}return function(n,e){function r(){this.constructor=n}x(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,n),e.prototype.componentDidMount=function(){return function(n,e,r,t){return new(r||(r=Promise))((function(o,i){function s(n){try{a(t.next(n))}catch(n){i(n)}}function c(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(s,c)}a((t=t.apply(n,e||[])).next())}))}(this,void 0,void 0,(function(){return function(n,e){var r,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,t=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(n,s)}catch(n){i=[6,n],t=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,e){var r=document.createElement("script");r.id="kakao-sdk",r.src="//developers.kakao.com/sdk/js/kakao.min.js",r.onload=n,document.body.append(r)}))];case 1:return n.sent(),window.Kakao.init(this.props.token),[2]}}))}))},e.prototype.render=function(){var n=this.state.isLoggedIn?this.onLogout:this.onButtonClick,e=this.props,r=e.render,t=e.className,o=void 0===t?"":t,i=e.style,s=void 0===i?m:i,c=e.children,a=void 0===c?"\uce74\uce74\uc624\ub85c \ub85c\uadf8\uc778\ud558\uae30":c;return"function"==typeof r?r({onClick:n}):g.createElement("button",{type:"button",className:o,onClick:n,style:s},a)},e.DEFAULT_STYLE=m,e}(g.PureComponent),b=k,w=r(184);var y=function(n){var e=n.isLoggedIn,r=(0,h.s0)(),p=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.response.access_token,r=e.profile.kakao_account.email,n.next=4,g(r);case 4:n.sent&&x(r),m(r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",f.get("/api/social/check/KAKAO?email="+e).then((function(n){return n.data})).catch((function(n){throw console.error("Error during check:",n),n})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.post("/api/social/signup",{email:e});case 3:n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error("Error during sign-up:",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.post("/api/social/signin",{email:e});case 3:return o=n.sent,localStorage.setItem("token",o.data.accessToken),console.log("accessToken: "+o.data.accessToken),n.abrupt("return",r("/"));case 9:n.prev=9,n.t0=n.catch(0),console.error("Error during sign-in:",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),k=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("isLoggedIn : "+e),n.prev=1,n.next=4,f.get("/api/info");case 4:n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("Error during sign-in:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}();return(0,w.jsx)(s.Z,{className:"mt-4",children:(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(a.Z,{md:{span:5,offset:3},id:"loginCol",children:[(0,w.jsx)("div",{className:"d-flex justify-content-center",children:(0,w.jsx)(u.Z,{src:v,alt:"\ub85c\uace0",className:"logo"})}),(0,w.jsx)("h2",{class:"title",children:"\ub85c\uadf8\uc778"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("li",{id:"kkLoginBtn",children:(0,w.jsx)(b,{token:"9169f348c8c5bb0b3fc8f2e08db92d78",onSuccess:p,onFail:function(n){console.log(n),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},className:"w100p kkLogin"})}),(0,w.jsx)("li",{id:"nvLoginBtn",children:(0,w.jsx)("a",{href:"#",children:"\ub124\uc774\ubc84 \ub85c\uadf8\uc778"})}),(0,w.jsx)("li",{id:"ggLoginBtn",children:(0,w.jsx)("a",{href:"#",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})}),(0,w.jsx)("strong",{children:"\ub610\ub294"}),(0,w.jsx)("button",{onClick:function(){return k()},children:"test"})]}),(0,w.jsxs)(l.Z,{children:[(0,w.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,w.jsx)(l.Z.Label,{children:"\uc544\uc774\ub514"}),(0,w.jsx)(l.Z.Control,{type:"email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c \uc785\ub825"}),(0,w.jsx)(l.Z.Text,{className:"text-muted"})]}),(0,w.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,w.jsx)(l.Z.Label,{children:"\ube44\ubc00\ubc88\ud638"}),(0,w.jsx)(l.Z.Control,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825"})]}),(0,w.jsx)(l.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,w.jsx)(l.Z.Check,{type:"checkbox",label:"\uc790\ub3d9\ub85c\uadf8\uc778"})}),(0,w.jsx)("div",{className:"d-grid gap-2",children:(0,w.jsx)(d.Z,{variant:"danger",type:"submit",children:"\ub85c\uadf8\uc778"})}),(0,w.jsxs)("span",{children:[(0,w.jsx)(i.rU,{to:"/user/confirmEmail",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,w.jsx)(i.rU,{to:"/user/signup",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]}),(0,w.jsx)(a.Z,{})]})})}},2592:function(n,e,r){r.d(e,{i:function(){return f}});var t=r(1413),o=r(5987),i=r(1694),s=r.n(i),c=r(2791),a=r(2007),u=r.n(a),l=r(162),d=r(184),p=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],f={bsPrefix:u().string,fluid:u().bool,rounded:u().bool,roundedCircle:u().bool,thumbnail:u().bool},h=c.forwardRef((function(n,e){var r=n.bsPrefix,i=n.className,c=n.fluid,a=void 0!==c&&c,u=n.rounded,f=void 0!==u&&u,h=n.roundedCircle,v=void 0!==h&&h,g=n.thumbnail,x=void 0!==g&&g,m=(0,o.Z)(n,p);return r=(0,l.vE)(r,"img"),(0,d.jsx)("img",(0,t.Z)((0,t.Z)({ref:e},m),{},{className:s()(i,a&&"".concat(r,"-fluid"),f&&"rounded",v&&"rounded-circle",x&&"".concat(r,"-thumbnail"))}))}));h.displayName="Image",e.Z=h},8382:function(){}}]);
//# sourceMappingURL=4046.b6370878.chunk.js.map